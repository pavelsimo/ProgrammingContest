<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>Magical Girls are girls who have magical powers. They fight against evil witches to protect the Earth.</p>
<br></br>
<p>You, one of the Magical Girls, are now fighting against an evil witch. You want to use ultimate magic to defeat the witch. To use ultimate magic you have to chant a magical spell. The spell is determined with a sequence A.</p>
<br></br>
<p>A is the sequence of strings which is determined with a sequence <b>first</b>. Each element of <b>first</b> is a string which contains only '0' and '1'. Let K be the number of elements in <b>first</b>. Each element of A is defined as follows:</p>
<br></br>
<ul>
<li>for all i, 0 &lt;= i &lt; K, A[i] = <b>first</b>[i].</li>
<li>Otherwise, A[i] = A[i-1] + A[i-K-1] + A[i-2K-1] + ... (while i-m*K-1 is not less than 0). Here operator '+' denotes concatenation of strings.</li>
</ul>
<br></br>
<p>You are given three integers <b>n</b>, <b>lo</b> and <b>hi</b>. Let S be the substring of A[<b>n</b>] from <b>lo</b> to <b>hi</b>, inclusive. That is, S = A[<b>n</b>][<b>lo</b>..<b>hi</b>] where both <b>lo</b> and <b>hi</b> are 0-based indices into A[<b>n</b>]. The spell you have to chant is S and the power of the magic is equal to the number of '1's in S. Return the power of the ultimate magic.</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>MagicalGirlLevelThreeDivTwo</td></tr><tr><td>Method:</td><td>theCount</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;, int, long long, long long</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int theCount(vector &lt;string&gt; first, int n, long long lo, long long hi)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>first</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>first</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>first</b> will consist of '0' (zero) and '1' (one).</td></tr><tr><td align="center" valign="top">-</td><td><b>n</b> will be between 0 and 100, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>hi</b> will be between 0 and min{1,000,000,000,000,000 (10^15), (length of A[<b>n</b>])-1}, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>lo</b> will be between 0 and <b>hi</b>, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>hi</b>-<b>lo</b> will be at most 1,000.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;101&quot;, &quot;01&quot;}</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>5</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2"><p>A[2] = "01", A[3] = "01101", A[4] = "0110101"</p>
<p>S = A[4][2..5] = "1010"</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;01&quot;, &quot;10&quot;}</pre></td></tr><tr><td><pre>5</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>5</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2"><p>A[2] = "10", A[3] = "1001", A[4] = "100110", A[5] = "1001101001"</p>
<p>S = A[5][4..5] = "10"</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;1&quot;, &quot;11&quot;, &quot;111&quot;}</pre></td></tr><tr><td><pre>46</pre></td></tr><tr><td><pre>10000</pre></td></tr><tr><td><pre>11000</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1001</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;0&quot;, &quot;00&quot;, &quot;000&quot;}</pre></td></tr><tr><td><pre>46</pre></td></tr><tr><td><pre>10000</pre></td></tr><tr><td><pre>11000</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;00110110101101001111101101001011010011111011010010&quot;}</pre></td></tr><tr><td><pre>100</pre></td></tr><tr><td><pre>999999999999915</pre></td></tr><tr><td><pre>1000000000000000</pre></td></tr></table></td></tr><tr><td><pre>Returns: 50</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;10000&quot;, &quot;011011001011000001101000010100000111000110110&quot;, 
&quot;000001010001011000001101110&quot;, &quot;100100000110100001010000&quot;, 
&quot;011011010&quot;, &quot;01100000010101101110000011100011001000&quot;,
&quot;0001010&quot;, &quot;010011000&quot;, &quot;000101001&quot;, &quot;00&quot;, &quot;1&quot;}</pre></td></tr><tr><td><pre>91</pre></td></tr><tr><td><pre>123456</pre></td></tr><tr><td><pre>123654</pre></td></tr></table></td></tr><tr><td><pre>Returns: 76</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
